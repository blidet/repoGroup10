(function(){var c=h(function(){preview.positionNotes();preview.showNotes()},400),d=null,b={menuElement:null,isOpen:a,toggle:f,open:e,close:i,debouncePositionNotes:c,width:0},g=300;function a(){return !d.classList.contains("closed")}function f(){return a()?i():e()}function e(){d.classList.remove("closed");b.width=g,preview.hideNotes();c();preview.scaleFrame()}function i(){d.classList.add("closed");b.width=0,preview.hideNotes();c();preview.scaleFrame()}function h(n,q,k){var p,l,m,o,j;return function(){m=this;l=arguments;o=new Date();var s=function(){var t=(new Date())-o;if(t<q){p=setTimeout(s,q-t)}else{p=null;if(!k){j=n.apply(m,l)}}};var r=k&&!p;if(!p){p=setTimeout(s,q)}if(r){j=n.apply(m,l)}return j}}document.addEventListener("DOMContentLoaded",function(){d=b.menuElement=document.getElementById("previewMenu");if(!d){return}var j=document.getElementById("previewPage");if(j){j.addEventListener("load",function(){if(d.querySelector("#previewShowLinks").checked){j.contentWindow.document.body.classList.add("highlight-links")}})}document.getElementById("restartPreview").addEventListener("click",function(l){var m=document.getElementById("previewPage").contentWindow;if(m&&m.preview){m.preview.restart()}});var k=h(function(){var l=document.getElementById("previewPage");l.style.transition=""},400);document.getElementById("previewZoomSlider").addEventListener("input",function(m){var l=document.getElementById("previewPage");l.style.transition="all 0.3s";l.style.webkitTransform=l.style.mozTransform=l.style.transform="scale("+m.target.value+")";k();l.contentWindow.preview.useZoomSlider=true;preview.pageScale=m.target.value;preview.hideNotes();c()});document.getElementById("previewShowLinks").addEventListener("change",function(m){var l=document.getElementById("previewPage").contentWindow;if(l){if(m.target.checked){l.document.body.classList.add("highlight-links")}else{l.document.body.classList.remove("highlight-links")}}});document.getElementById("previewShowNotes").addEventListener("change",function(l){if(l.target.checked){preview.getNotesElement().style.display="";preview.positionNotes()}else{preview.getNotesElement().style.display="none"}});document.getElementById("previewBestFit").addEventListener("click",function(l){document.getElementById("previewPage").contentWindow.preview.useZoomSlider=false;preview.hideNotes();c();preview.scaleFrame();document.getElementById("previewZoomSlider").value=preview.currentFrameScale});document.getElementById("previewFullscreen").addEventListener("click",function(l){document.getElementById("previewPage").contentWindow.preview.useZoomSlider=false;preview.hideNotes();c();preview.scaleFrame(undefined,undefined,true);document.getElementById("previewZoomSlider").value=preview.currentFrameScale})});window.previewMenu=b}());